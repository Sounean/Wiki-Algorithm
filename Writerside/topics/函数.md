# 函数

## 1.函数的定义和调用
```Python
def func(): # 1.定义函数(只表示这个函数封装了一段代码而已，如果不主动调用函数，函数是不会主动执行的)
    print("python")
 
func()  #2.调用函数(通过函数名称进行调用函数) 执行结果为:python
```

## 2.函数中的参数
（1）形参：是函数`定义`时小括号里的参数，是用来接收参数的，在函数内部作为变量使用 (只起到形式)

（2）实参：是函数`调用`时小括号里的参数，是用来把数据传递到函数内部的    (已经有实际的值了，是实实在在的)
```Python
def my_sum(a,b):  # 函数的定义,a,b为形式参数
    return a+b  # return表示调用函数时会有一个返回值a+b
 
result = my_sum(3,4)  # 函数的调用，3,4为实际参数
print(result)   # 执行结果为7
```

以上是最基础最常用的使用，下方稍微难一点:

### 2.1.位置参数
```Python
# 位置参数：要求实参顺序必须和形参顺序完全一致，由形参顺序决定实参顺序。
def power(x,n=2):  # n:默认参数，缺省参数 (第二个参数可以不传值，那就用这个默认值2)
    return x**n
a = power(4,3)
b = power(5,3)
c = power(6)
print(a)    # 输出结果为:64
print(b)   # 输出结果为:125
print(c)   # 输出结果为:36
```

### 2.2.缺省参数
```Python
#缺省参数：定义函数时，可以给某个参数指定一个默认值，具有默认值的参数就|叫做缺省参数。注意：可选参数要定义在非可选参数的后面
def infos(name,age=24,gender='女'):
    return '大家好，我是%s ，%d岁，是一名%s生'%(name,age,gender)
s = infos('-17',18,'女')
ly = infos('ly')
cy = infos('cy',34,'男')
ie = infos('ie',gender='男')
print(s)    # 输出结果为:大家好，我是-17 ，18岁，是一名女生
print(ly)    # 输出结果为:大家好，我是ly ，24岁，是一名女生
print(cy)    # 输出结果为:大家好，我是cy ，34岁，是一名男生
print(ie)    # 输出结果为:大家好，我是ie ，24岁，是一名男生
```

### 2.3.可变参数
```Python
# 可变参数：传入的参数个数是可变的，可以是1个、2个到任意个，还可以是0个。
def total(*args):  # 可变参数
    result = 0
    for i in args:
        result += i
    return result
 
result = total(1,2,3,4,5,6)
print(result)       # 输出结果为:21
result = total(1,2,3,4,5)
print(result)       # 输出结果为:15


# 可变参数，接收字典
def f(**kwargs):  
    for k,v in kwargs.items():
        print(k,":",v,end = " ")
d = {'name':'cy','age':18}
f(**d)
# 输出结果为: name:cy age:18
```

## 3.变量作用域
### 3.1.全局变量
全局变量是在函数外部定义的变量，所有函数内部都可以使用这个变量

### 3.2.局部变量
局部变量是在函数内部定义的变量，只能在函数内部使用
```Python
# 全局变量
num1 = 10
 
def f():
    num2 = 20  # 局部变量
    num1 = 20  # 相当于创建了一个变量叫num1，与全局变量num1同名，并不是同一个变量
    print('在函数f内部打印num1的值', num1)   # 输出结果为：在函数f内部打印num1的值 20
    print('num2的值',num2)    # 输出结果为：num2的值 20
print('在函数f外部打印num1的值', num1)   # 输出结果为：在函数f外部打印num1的值 10
f()
# print('在函数f内部打印num2的值', num2)  # 报错
print('在函数f执行后打印num1的值', num1)  # 输出结果为：在函数f执行后打印num1的值 10
```
而若将num1声明为全局变量：
```python
# 全局变量
num1 = 10  # 不可变数据类型
 
def f():
    global num1
    num2 = 20  # 局部变量
    num1 = 20
    print('在函数f内部打印num1的值', num1)   # 输出结果为：在函数f内部打印num1的值 20
    print('num2的值',num2)    # 输出结果为：num2的值 20
print('在函数f外部打印num1的值', num1)   # 输出结果为：在函数f外部打印num1的值 10
f()
# print('在函数f内部打印num2的值', num2)  # 报错
print('在函数f执行后打印num1的值', num1)  # 输出结果为：在函数f执行后打印num1的值 20
```
而当处理的是可变数据类型时:
```Python
list = [1,2,3,4,5]  # 可变数据类型
def f():
    list[2] = 8
    print('在函数f内部打印list的值', list)   # 输出结果为：在函数f内部打印list的值 [1, 2, 8, 4, 5]
 
f()
# print('在函数f内部打印num2的值', num2)  # 报错
print('在函数f执行后打印list的值', list)  # 输出结果为：在函数f执行后打印list的值 [1, 2, 8, 4, 5]
```

## 4.匿名函数
如果某些情况想让代码更加精简，且不需要考虑命名的问题就可以使用lambda函数来实现匿名函数：
```Python
# 常规函数
def fun(x,y):
    return x + y
# 匿名函数
a= lambda x，y:x + y # 冒号前面的为要传入多少位，冒号后面的是最终返回的值
print(fun(2，3))
print(a(2,3))   # 和上行一个效果

#传入2个值，比较大小后输出最大的值（三元表达式）
max_1 = lambda a, b: a if a > b else b
print('输出最大的值:', max_1(1, 10))  # 输出结果:"输出最大的值：10"
```
或者用下文其他博客上的图来帮助理解常用函数和匿名函数的区别：
![基础python函数匿名函数图01.png](基础python函数匿名函数图01.png)

从图二中可以看出，两个方式定义的函数其实都差不多，但 lambda 是有局限性的，lambda 只能定义一下简单的逻辑，也无法在别的类中使用，但是在日常使用中，lambda主要是以参数的用法存在的，在对某个函数传入的参数进行简单的判断，用处也是很大的，而 def 的话就可以定义复杂的逻辑，复用性也很高。


## 5.函数的值传递与引用传递
函数的值传递与引用传递是有实参的类型为可变还是不可变变量决定的，如果是可变变量那就是引用传递，反之就是值传递。

所以想搞明白函数的值传递与引用传递就得先了解变量的可变和不可变
<note>
技巧：可以只记：列表字典集合为可变变量即可。其他均视为不可变变量
</note>

### 5.1.可变和不可变变量
就像区分一个人一样，同样都是张三，可能这个张三就不是那个张三。同一个变量是指的什么相同呢？
Python中的对象包含三个要素，id（内存地址），type（数据类型），value(数据值)。
```Python
a = 5
print(id(a),id(5))  # 打印可以看到a的内存地址和5的内存地址是一样的 输出结果为2086689663408 2086689663408
```


可变变量（List（列表）、Dict（字典）、Set（集合））定义：当变量在内存中分配地址之后，可以使用方法来改变变量的值，而不改变该变量原有的地址
```Python
a = [1, 2, 3, 4]
print(a, id(a)) # 输出结果为:[1, 2, 3, 4] 2694449916800
a.append(5)
print(a, id(a)) # 输出结果为：[1, 2, 3, 4, 5] 2694449916800
```
虽然变量a的值发生变化，但是a的地址没有发生变化。这种的叫可变变量，所有的可变变量类型都有这种性质

不可变变量（Numble（数字）、Tuple（元组）、String（字符串））定义：当内容发生修改，计算机会重新分配一块内存空间，id所获取的地址值会变化
而再观察下文:
```Python
s = 'qwer1234'
print(s, id(s)) # 输出结果为：qwer1234 1842604317040
s += 'asdf' 
print(s, id(s)) # 输出结果为:qwer1234asdf 1842607510960
```
### 5.2.值传递和引用传递
可变变量作为函数参数，是引用传递（即将自身的地址给传进去了，自然函数中去修改了他，在函数外部的值也会随着修改）
```Python
def addOne(a):
    a.append("d")
    print(a,":",id(a))  # 输出结果为:["a","b","c","d"] : 2694185316808
list1 = ["a","b","c"]
addOne(list1)   
print(list1,":",id(list1))  # 输出结果为:["a","b","c","d"] : 2694185316808
```

不可变变量作为函数参数，是值传递（即将自身的值给传进去了，自然函数中去修改了他，在函数外部的值不会随着修改）
```Python
def addOne(a):
    a+=1
    print(a, ":", id(a))    # 输出结果为:100 : 1858893936

value = 99
addOne(value)
print(value, ":", id(value))    # 输出结果为:99 : 1858893904
```

`可以只记住可变变量(列表字典集合)，传入函数内部，修改了外部值也会变`即可

不可变变量是刚好相反的性质